# 우선순위 사칙연산 계산기 (priority_calculator.py)

## 📋 프로그램 개요

사칙연산의 우선순위와 괄호를 고려하여 정확한 계산을 수행하는 Python 계산기입니다.

## 🎯 주요 기능

### 기본 연산
- 덧셈 (`+`)
- 뺄셈 (`-`) 
- 곱셈 (`*`)
- 나눗셈 (`/`)

### 우선순위 처리
- `*`, `/` (곱셈, 나눗셈) > `+`, `-` (덧셈, 뺄셈)
- 괄호 `()` 최우선 처리

### 예외 처리
- 0으로 나누기: `"Error: Division by zero."`
- 잘못된 입력: `"Invalid input."`

## 💻 사용 예시

### 입력
```
4 + 5 * 3 - 2
```

### 출력
```
Result: 17.0
```

### 괄호 사용 예시
```
입력: ( 4 + 5 ) * ( 3 - 2 )
출력: Result: 9.0
```

## 🔧 핵심 알고리즘

### 1. 토큰화 (Tokenization)
- 입력 문자열을 숫자, 연산자, 괄호로 분리
- 공백 기준으로 파싱

### 2. 중위 → 후위 변환 (Infix to Postfix)
- **Shunting Yard Algorithm** 사용
- 우선순위와 괄호를 고려한 변환
- 예: `4 + 5 * 3` → `4 5 3 * +`

### 3. 후위 표기법 계산 (Postfix Evaluation)
- **스택 자료구조** 활용
- 숫자는 스택에 push, 연산자는 pop 후 계산

## 📊 처리 과정 예시

### 입력: `( 4 + 5 ) * 3`

**1단계 - 토큰화:**
```
['(', '4', '+', '5', ')', '*', '3']
```

**2단계 - 후위 변환:**
```
[4.0, 5.0, '+', 3.0, '*']
```

**3단계 - 스택 계산:**
```
스택: [4.0, 5.0] → '+' → [9.0]
스택: [9.0, 3.0] → '*' → [27.0]
결과: 27.0
```

## 🏗️ 함수 구조

### 기본 연산 함수
- `add(a, b)` - 덧셈
- `subtract(a, b)` - 뺄셈  
- `multiply(a, b)` - 곱셈
- `divide(a, b)` - 나눗셈 (0으로 나누기 체크)

### 처리 함수
- `tokenize(expression)` - 문자열 토큰화
- `infix_to_postfix(tokens)` - 중위→후위 변환
- `evaluate_postfix(postfix)` - 후위 표기법 계산
- `evaluate_simple_expression(tokens)` - 간단한 식 계산
- `evaluate_expression(expression)` - 메인 계산 함수

## ⚙️ 실행 방법

### 터미널에서 실행
```bash
python3 priority_calculator.py
```

### 입력 형식
- 숫자와 연산자를 **공백으로 구분**
- 괄호 사용 가능
- 예: `10 / 2 + 3 * 4`

## 🔍 알고리즘 특징

### 우선순위 테이블
```python
precedence = {'+': 1, '-': 1, '*': 2, '/': 2}
```

### 괄호 처리
- `(` : 스택에 push
- `)` : `(`를 만날 때까지 모든 연산자 pop

### 스택 기반 계산
- 숫자: 스택에 저장
- 연산자: 스택에서 두 수를 꺼내 계산 후 결과 저장

## 🚀 장점

1. **정확한 우선순위**: 수학적 연산 순서 준수
2. **괄호 지원**: 복잡한 수식 계산 가능
3. **안전한 예외처리**: 오류 상황 적절히 처리
4. **확장 가능**: 새로운 연산자 추가 용이
5. **교육적 가치**: 스택과 알고리즘 학습에 적합

## 📚 학습 포인트

- **자료구조**: 스택(Stack) 활용법
- **알고리즘**: Shunting Yard Algorithm
- **표기법**: 중위/후위 표기법 변환
- **예외처리**: Python try-catch 구문
- **문자열 처리**: tokenization 기법