# 스테이징 영역 추가 vs 커밋의 차이

## 📋 개요

Git에서 파일의 변경사항을 저장소에 반영하는 과정은 **두 단계**로 나뉩니다:
1. **스테이징 영역에 추가** (`git add`)
2. **커밋** (`git commit`)

이 문서에서는 두 과정의 차이점과 각각의 역할을 상세히 설명합니다.

---

## 🎯 스테이징 영역 추가 (git add)

### 정의
스테이징 영역(Staging Area) 또는 인덱스(Index)는 **다음 커밋에 포함될 변경사항들을 임시로 준비하는 공간**입니다.

### 주요 특징
- **임시 저장소**: 작업 디렉토리의 변경사항을 임시로 보관
- **선택적 추가**: 원하는 파일만 선택해서 추가 가능
- **수정 가능**: 커밋 전까지 언제든 수정하거나 제거 가능
- **미완성 상태**: 아직 Git 히스토리에 영구 저장되지 않음

### 사용법
```bash
# 특정 파일을 스테이징 영역에 추가
git add filename.txt

# 모든 변경된 파일을 스테이징 영역에 추가
git add .

# 스테이징된 파일을 스테이징 영역에서 제거
git reset filename.txt
```

### 언제 사용하나?
- 여러 파일 중 일부만 커밋하고 싶을 때
- 커밋 전에 변경사항을 검토하고 싶을 때
- 논리적으로 관련된 변경사항들을 그룹화할 때

---

## 💾 커밋 (git commit)

### 정의
커밋은 **스테이징 영역에 있는 변경사항들을 Git 저장소의 히스토리에 영구적으로 저장**하는 과정입니다.

### 주요 특징
- **영구 저장**: Git 히스토리에 영구적으로 기록됨
- **스냅샷 생성**: 해당 시점의 프로젝트 상태를 완전히 저장
- **고유 식별자**: 각 커밋은 고유한 해시(SHA-1) 값을 가짐
- **메시지 필수**: 변경사항에 대한 설명 메시지가 반드시 필요
- **되돌리기 가능**: 나중에 이 시점으로 되돌아갈 수 있음

### 사용법
```bash
# 커밋 메시지와 함께 커밋
git commit -m "커밋 메시지"

# 에디터를 열어 상세한 커밋 메시지 작성
git commit

# 스테이징과 커밋을 동시에 (추적 중인 파일만)
git commit -am "메시지"
```

### 언제 사용하나?
- 완성된 기능이나 수정사항을 저장할 때
- 프로젝트의 중요한 진행 단계를 기록할 때
- 다른 개발자와 작업을 공유하기 전에

---

## 🔄 워크플로우 비교

### 전체 과정
```
작업 디렉토리 → [git add] → 스테이징 영역 → [git commit] → Git 저장소
```

### 단계별 상태 변화

| 단계 | 명령어 | 파일 위치 | 상태 |
|------|--------|----------|------|
| 1 | 파일 수정 | 작업 디렉토리 | Modified (수정됨) |
| 2 | `git add` | 스테이징 영역 | Staged (스테이징됨) |
| 3 | `git commit` | Git 저장소 | Committed (커밋됨) |

---

## ⚖️ 주요 차이점 비교

| 구분 | 스테이징 영역 추가 (git add) | 커밋 (git commit) |
|------|---------------------------|------------------|
| **목적** | 커밋할 변경사항 준비 | 변경사항 영구 저장 |
| **저장 위치** | 스테이징 영역 (임시) | Git 저장소 (영구) |
| **되돌리기** | 쉬움 (`git reset`) | 어려움 (복잡한 과정) |
| **메시지** | 불필요 | 필수 |
| **히스토리** | 기록되지 않음 | Git 히스토리에 기록됨 |
| **공유** | 공유되지 않음 | 다른 개발자와 공유 가능 |

---

## 🎨 실제 사용 예시

### 시나리오: 여러 파일을 수정했지만 부분적으로 커밋하고 싶은 경우

```bash
# 현재 상태 확인
git status

# 1단계: 필요한 파일만 스테이징
git add file1.py file2.py

# 스테이징 상태 확인
git status
# 출력: file1.py, file2.py는 스테이징됨, file3.py는 여전히 수정됨

# 2단계: 스테이징된 파일들만 커밋
git commit -m "Add new feature in file1 and file2"

# 최종 상태 확인
git status
# 출력: file3.py만 수정된 상태로 남음
```

---

## 🤔 왜 두 단계로 나뉘어져 있을까?

### 1. **선택적 커밋**
- 모든 변경사항을 한 번에 커밋하지 않고 논리적 단위로 분리 가능
- 관련 없는 변경사항들을 별도로 관리

### 2. **검토 과정**
- 커밋 전에 어떤 변경사항이 포함될지 미리 확인
- 실수로 불필요한 파일이 포함되는 것을 방지

### 3. **유연성**
- 스테이징 후에도 추가 수정이나 파일 제외 가능
- 커밋 전까지 자유롭게 조정

---

## 📊 상태 확인 명령어

```bash
# 전체 상태 확인
git status

# 스테이징된 변경사항 확인
git diff --cached

# 작업 디렉토리의 변경사항 확인
git diff

# 커밋 히스토리 확인
git log --oneline
```

---

## 💡 Best Practices

### 스테이징 단계에서
- 커밋하려는 변경사항만 정확히 선택
- `git status`로 현재 상태 항상 확인
- 불필요한 파일(임시 파일, 로그 파일 등)은 제외

### 커밋 단계에서
- 명확하고 의미 있는 커밋 메시지 작성
- 한 번에 하나의 논리적 변경사항만 커밋
- 너무 큰 변경사항은 여러 커밋으로 분리

---

## 📝 결론

**스테이징 영역 추가**와 **커밋**은 Git의 핵심적인 두 단계 프로세스입니다:

- **스테이징**: 커밋할 내용을 "준비"하는 단계
- **커밋**: 준비된 내용을 "확정"하는 단계

이 두 단계를 통해 개발자는 더 정확하고 의미 있는 버전 관리를 할 수 있으며, 프로젝트의 히스토리를 깔끔하게 유지할 수 있습니다.